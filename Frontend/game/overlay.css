/* Visibilidad y layout base */
#resultadosOverlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  display: flex; align-items: center; justify-content: center;
  z-index: 9999;
}
#resultadosOverlay.hidden { display: none; }

/* Caja principal: 80% de la pantalla, SIN scroll interno */
#resultadosContent {
  position: relative;
  background: #0f1115; color: #e8e8e8;
  width: 80vw; height: 80vh;
  overflow: visible;
  border-radius: 18px; padding: 24px;
  border: 1px solid #222831;
  box-shadow: 0 14px 40px rgba(0,0,0,.38);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif;

  display: grid;
  grid-template-rows: auto 1fr;
  gap: 12px;
}

/* Header (solo título) */
.overlay-header { display: grid; grid-template-columns: 1fr; gap: 14px; }
.overlay-header .title { font-size: 1.45rem; font-weight: 800; letter-spacing: .2px; }

/* Botón cerrar dentro del recuadro */
.overlay-close{
  position:absolute; top:10px; right:10px;
  background:#c0392b; border:1px solid #9f2e23; color:#fff;
  width:34px; height:34px; border-radius:10px; cursor:pointer; line-height:32px; text-align:center;
}
.overlay-close:hover{ background:#d1493b; }

/* Carrusel */
.carousel { position: relative; margin: 0; height: 100%; display: grid; grid-template-rows: 1fr auto; }
.carousel .viewport { overflow: hidden; width: 100%; height: 100%; }
.carousel .slides { display: flex; height: 100%; transition: transform .35s ease; will-change: transform; }
.slide { min-width: 100%; height: 100%; box-sizing: border-box; display: grid; grid-template-rows: auto 1fr; }

.slide-title { font-weight:800; margin-bottom:10px; opacity:.95; }

/* Tarjetas 2×2 llenando alto */
.grid-cards {
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  grid-auto-rows: 1fr;
  gap: 16px;
  height: 100%;
}
.card {
  background:#171b22; border:1px solid #2a2f3a; border-radius:14px; padding:16px;
  display:flex; flex-direction:column; min-height:0;
}
.card-head { display:flex; justify-content:space-between; gap:12px; margin-bottom:10px; }
.card-head .name { font-weight:700; font-size: 1.05rem; }
.card-head .curr { font-variant-numeric: tabular-nums; font-size: 1.1rem; }

/* KPIs compactos arriba */
.kpi {
  display:grid; grid-template-columns: 1fr auto; row-gap: 6px; column-gap: 14px; align-items:center;
  margin-bottom: 6px;
}
.kpi .label { opacity:.75; font-size:.92rem; }
.kpi .num { font-variant-numeric: tabular-nums; font-weight:700; }
.kpi .num.up { color:#36c26b; }
.kpi .num.down { color:#ff6b6b; }
.kpi .num.flat { color:#9aa4b2; }

/* NUEVO: Gráfico de barras ocupa la tarjeta */
.chart {
  flex:1 1 auto; /* ocupa todo el espacio sobrante */
  min-height: 120px;
  margin-top: 8px;
  display:block;
}
.chart text { fill:#cfd7e6; font-size: 11px; }
.chart .axis { opacity:.5; }
.chart .bar { rx:6; ry:6; }
.chart .bar.up { fill:#36c26b; }
.chart .bar.down { fill:#ff6b6b; }
.chart .bar.flat { fill:#9aa4b2; }

/* Dots del carrusel */
.carousel .dots { display:flex; gap:8px; justify-content:center; align-items:center; padding-top:10px; }
.carousel .dot { width:9px; height:9px; border-radius:999px; background:#3a4252; border:none; cursor:pointer; }
.carousel .dot.active { background:#9bb4ff; }

/* Flechas fuera del recuadro (a los lados, centradas) */
.overlay-nav {
  position: absolute; top: 50%; transform: translateY(-50%);
  z-index: 10000;
  background:#202532; border:1px solid #2a2f3a; color:#e8e8e8;
  border-radius:12px; width:42px; height:42px; line-height:40px; text-align:center;
  cursor:pointer; user-select:none; font-size:22px;
}
.overlay-nav.prev { left: calc(10vw - 46px); }
.overlay-nav.next { right: calc(10vw - 46px); }
.overlay-nav:hover { background:#262c3b; }
